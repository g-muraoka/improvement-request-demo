<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>システム改善要望画面 - HSA2025-14</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #eff6ff 0%, #e0e7ff 100%);
        }
        .icon-message-square {
            width: 24px;
            height: 24px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }
        .icon-user, .icon-tag, .icon-send, .icon-calendar, .icon-star {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }
        .icon-check {
            width: 32px;
            height: 32px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="min-h-screen p-4">
        <div class="max-w-4xl mx-auto">
            <!-- ヘッダー -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                        <svg class="icon-message-square text-blue-600" viewBox="0 0 24 24">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">システム改善要望</h1>
                        <p class="text-gray-600">より良いシステムのために、ご意見をお聞かせください</p>
                    </div>
                </div>
            </div>

            <!-- メインフォーム -->
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <form class="space-y-6" id="improvementForm">
                    <!-- ユーザー情報セクション -->
                    <div class="border-b border-gray-200 pb-6">
                        <h2 class="flex items-center text-lg font-semibold text-gray-800 mb-4">
                            <svg class="icon-user text-blue-600 mr-2" viewBox="0 0 24 24">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                            ユーザー情報
                        </h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    お名前 <span class="text-red-500">*</span>
                                </label>
                                <input
                                    type="text"
                                    required
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="山田太郎"
                                    id="userName"
                                />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    メールアドレス <span class="text-red-500">*</span>
                                </label>
                                <input
                                    type="email"
                                    required
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="yamada@example.com"
                                    id="userEmail"
                                />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    部署
                                </label>
                                <input
                                    type="text"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="営業部"
                                    id="userDepartment"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- 要望内容セクション -->
                    <div>
                        <h2 class="flex items-center text-lg font-semibold text-gray-800 mb-4">
                            <svg class="icon-tag text-blue-600 mr-2" viewBox="0 0 24 24">
                                <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/>
                                <line x1="7" y1="7" x2="7.01" y2="7"/>
                            </svg>
                            要望内容
                        </h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    カテゴリー <span class="text-red-500">*</span>
                                </label>
                                <select
                                    required
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    id="category"
                                >
                                    <option value="">選択してください</option>
                                    <option value="ui">画面・UI改善</option>
                                    <option value="feature">機能追加</option>
                                    <option value="performance">パフォーマンス改善</option>
                                    <option value="bug">バグ修正</option>
                                    <option value="security">セキュリティ</option>
                                    <option value="other">その他</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    優先度 <span class="text-red-500">*</span>
                                </label>
                                <select
                                    required
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    id="priority"
                                >
                                    <option value="">選択してください</option>
                                    <option value="low">低</option>
                                    <option value="medium">中</option>
                                    <option value="high">高</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                要望タイトル <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                required
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="例：検索機能の改善について"
                                id="requestTitle"
                            />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                詳細内容 <span class="text-red-500">*</span>
                            </label>
                            <textarea
                                required
                                rows="6"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                                placeholder="現在の問題点や改善してほしい内容を具体的にご記入ください。

例：
・現在の問題：検索結果が多すぎて目的の情報が見つけにくい
・改善案：カテゴリー別のフィルター機能を追加してほしい
・期待する効果：作業効率が向上する"
                                id="requestDescription"
                                oninput="updateCharCount()"
                            ></textarea>
                            <div class="flex justify-between items-center mt-2">
                                <span class="text-sm text-gray-500">
                                    具体的に記述いただくと、より良い改善につながります
                                </span>
                                <span class="text-sm text-gray-400" id="charCount">
                                    0/1000文字
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- 送信ボタン -->
                    <div class="flex justify-center pt-6">
                        <button
                            type="submit"
                            class="flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium transition-colors shadow-lg hover:shadow-xl"
                        >
                            <svg class="icon-send" viewBox="0 0 24 24">
                                <line x1="22" y1="2" x2="11" y2="13"/>
                                <polygon points="22,2 15,22 11,13 2,9"/>
                            </svg>
                            <span>要望を送信</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- フッター情報 -->
            <div class="bg-white rounded-2xl shadow-lg p-4 mt-6">
                <div class="flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-4 text-sm text-gray-600">
                    <div class="flex items-center space-x-1">
                        <svg class="icon-calendar" viewBox="0 0 24 24">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        <span>要望は1営業日以内に確認いたします</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <svg class="icon-star" viewBox="0 0 24 24">
                            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
                        </svg>
                        <span>重要度が高いものから優先的に対応します</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 送信完了モーダル -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="icon-check text-green-600" viewBox="0 0 24 24">
                    <polyline points="20,6 9,17 4,12"/>
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-800 mb-2">送信完了</h2>
            <p class="text-gray-600 mb-6">
                改善要望を受け付けました。<br />
                ご協力ありがとうございます。
            </p>
            <button 
                onclick="resetForm()"
                class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors"
            >
                新しい要望を送信
            </button>
        </div>
    </div>

    <script>
        function updateCharCount() {
            const textarea = document.getElementById('requestDescription');
            const charCount = document.getElementById('charCount');
            const length = textarea.value.length;
            charCount.textContent = `${length}/1000文字`;
            
            if (length > 1000) {
                charCount.classList.add('text-red-500');
                charCount.classList.remove('text-gray-400');
            } else {
                charCount.classList.remove('text-red-500');
                charCount.classList.add('text-gray-400');
            }
        }

        function showSuccessModal() {
            document.getElementById('successModal').classList.remove('hidden');
        }

        function hideSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
        }

        function resetForm() {
            document.getElementById('improvementForm').reset();
            updateCharCount();
            hideSuccessModal();
        }

        document.getElementById('improvementForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 簡単なバリデーション
            const requiredFields = ['userName', 'userEmail', 'category', 'priority', 'requestTitle', 'requestDescription'];
            let isValid = true;
            
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add('border-red-500');
                } else {
                    field.classList.remove('border-red-500');
                }
            });
            
            if (isValid) {
                // 送信処理のシミュレーション
                setTimeout(() => {
                    showSuccessModal();
                }, 500);
            } else {
                alert('必須項目を入力してください。');
            }
        });

        // 初期化
        updateCharCount();
    </script>
</body>
</html>